---
const currentPath = Astro.url.pathname;

// Helper function untuk cek active state
const isActive = (path: string) => {
    if (path === '/guru' && currentPath === '/guru') return true; // Dashboard root
    if (path !== '/guru' && currentPath.includes(path)) return true;
    return false;
};
---

<aside class="hidden lg:flex flex-col w-64 h-screen fixed bg-base-100 border-r border-base-300">
  <!-- Header Sidebar -->
  <div class="h-16 flex items-center justify-center border-b border-base-300">
    <!-- Logo & Nama Aplikasi Warna Hijau Emerald -->
    <h1 class="text-2xl font-bold text-primary flex items-center gap-2">
        <i class="fa-solid fa-graduation-cap"></i> SIPotensi
    </h1>
  </div>

  <!-- Menu Items -->
  <nav class="flex-1 overflow-y-auto p-4 space-y-2">
    
    <!-- Dashboard -->
    <a href="/guru" class={`btn btn-ghost w-full justify-start ${isActive('/guru') ? 'btn-active text-primary bg-green-50' : 'hover:text-primary'}`}>
        <i class="fa-solid fa-chart-pie w-6"></i> Dashboard
    </a>

    <!-- Data Kelas -->
    <a href="/guru/data-kelas" class={`btn btn-ghost w-full justify-start ${isActive('data-kelas') ? 'btn-active text-primary bg-green-50' : 'hover:text-primary'}`}>
        <i class="fa-solid fa-users w-6"></i> Data Kelas
    </a>

    <!-- Analisis AI -->
    <a href="/guru/analisis-ai" class={`btn btn-ghost w-full justify-start ${isActive('analisis-ai') ? 'btn-active text-primary bg-green-50' : 'hover:text-primary'}`}>
        <i class="fa-solid fa-robot w-6"></i> Analisis AI
    </a>
  

  </nav>

  <!-- Logout Area -->
  <div class="p-4 border-t border-base-300">
    <!-- Panggil fungsi logout global via ID/Event nanti di script layout atau inline -->
    <button onclick="handleSidebarLogout()" class="btn btn-outline btn-error w-full gap-2">
        <i class="fa-solid fa-sign-out-alt"></i> Logout
    </button>
  </div>
</aside>

